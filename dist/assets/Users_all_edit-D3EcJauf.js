import{_ as re,C as me,v as ce,r as u,P as pe,S as ve,o as fe,a as m,c,b as d,d as l,w as o,u as P,B as ge,e as s,t as f,R as M,f as i,F as $,p as z,x as A,T as ke,n as O,s as J}from"./index-19TV4XvG.js";const _e={class:"add-new-user-page"},ye={class:"device-management-section"},be={key:0,class:"groups-display-area"},Ce={key:0,class:"selected-groups"},Ve={key:1,class:"empty-state"},Le={class:"multiple-checkout-section"},we={class:"checkout-options"},Ne={class:"footer-buttons"},Ue={class:"dialog-content text-center"},Se={class:"dialog-text"},xe={style:{"font-weight":"700",color:"#000 !important"}},De={class:"locker-dialog-header"},Ie={class:"locker-dialog-body"},Ge={class:"lockers-grid-new"},Me=["onClick"],$e={class:"locker-dialog-footer"},ze={class:"group-dialog-header"},Ae={class:"group-dialog-body"},Ee={class:"groups-grid-new"},Te=["onClick"],Be={class:"group-dialog-footer"},Fe={__name:"Users_all_edit",setup(Pe){const E=me(),q=ce(),T=u("Add New User"),V=u(!1),L=u(!1),w=u(!1),B=u(-1),N=u(!1),U=u(""),S=u(""),x=u([]),D=u([]),I=u([{id:1,name:"Locker 01"},{id:2,name:"Locker 02"},{id:3,name:"Locker 03"},{id:4,name:"Locker 04"},{id:5,name:"Locker 05"},{id:6,name:"Locker 06"},{id:7,name:"Locker 07"},{id:8,name:"Locker 08"},{id:9,name:"Locker 09"},{id:10,name:"Locker 10"}]),G=u([{id:1,name:"Group 01"},{id:2,name:"Group 02"},{id:3,name:"Group 03"},{id:4,name:"Group 04"},{id:5,name:"Group 05"},{id:6,name:"Group 06"},{id:7,name:"Group 07"},{id:8,name:"Group 08"},{id:9,name:"Group 09"},{id:10,name:"Group 10"}]),g=u(""),y=u([]),k=u([]),a=pe({firstName:"",lastName:"",userId:"",badgeId:"",pin:"",role:"",deviceManagement:"anyLocker",multipleDeviceCheckout:"yes",deviceCount:"",assignedLocker:null}),K=u([{label:"Any Locker",value:"anyLocker"},{label:"Assigned Locker",value:"assignedLocker"},{label:"Groups",value:"groups"}]),Q=()=>{T.value=E.query.mode==="edit"?"Edit User":"Add New User"};ve(E,()=>{Q()},{immediate:!0}),fe(()=>{Q(),x.value=[...I.value],D.value=[...G.value];const n=E.query.mode;if(N.value=n==="edit",N.value){T.value="Edit User",B.value=parseInt(E.query.index)||-1;const e=history.state.userData;if(e){const[v,...r]=e.name.split(" ");a.firstName=v||"",a.lastName=r.join(" ")||"",a.userId=e.employeeId||"",a.badgeId=e.badgeId||"",a.pin=e.pin||"",a.role=e.role||""}}else T.value="Add New User"});const X=()=>{q.push("/Users")},Z=()=>{const n={name:`${a.firstName} ${a.lastName}`.trim(),assignedDevice:a.assignedDevice||"N/A",employeeId:a.userId,role:a.role,deviceGroups:k.value.map(e=>e.name).join(", ")||"N/A",status:"Available",badgeId:a.badgeId,pin:a.pin,deviceManagement:a.deviceManagement,multipleDeviceCheckout:a.multipleDeviceCheckout,deviceCount:a.deviceCount,assignedLocker:a.assignedLocker};q.push({path:"/Users",state:{action:N.value?"update":"add",userData:n,index:B.value}})},ee=()=>{N.value&&B.value>=0&&q.push({path:"/Users",state:{action:"delete",index:B.value}}),V.value=!1},le=()=>{if(!U.value){x.value=[...I.value];return}const n=U.value.toLowerCase();x.value=I.value.filter(e=>e.name.toLowerCase().includes(n))},W=n=>{g.value=n},te=()=>{if(g.value){if(g.value==="unlimited")a.assignedLocker={id:"unlimited",name:"Unlimited"};else{const n=I.value.find(e=>e.id.toString()===g.value);a.assignedLocker=n}console.log("Selected locker:",a.assignedLocker)}L.value=!1,g.value="",U.value="",x.value=[...I.value]},oe=()=>{if(!S.value){D.value=[...G.value];return}const n=S.value.toLowerCase();D.value=G.value.filter(e=>e.name.toLowerCase().includes(n))},ae=n=>y.value.includes(n),se=n=>{const e=y.value.findIndex(v=>v===n);e>-1?y.value.splice(e,1):y.value.push(n)},ne=()=>{k.value=G.value.filter(n=>y.value.includes(n.id)),console.log("Selected groups:",k.value),w.value=!1,y.value=[],S.value="",D.value=[...G.value]},de=n=>{k.value=k.value.filter(e=>e.id!==n)};return(n,e)=>{const v=m("el-icon"),r=m("el-button"),p=m("el-col"),R=m("el-row"),_=m("el-input"),b=m("el-form-item"),C=m("el-option"),Y=m("el-select"),h=m("el-radio"),H=m("el-radio-group"),ue=m("el-tag"),ie=m("el-form"),j=m("el-dialog");return d(),c("div",_e,[l(R,{class:"page-header"},{default:o(()=>[l(p,{span:6,class:"header-left"},{default:o(()=>[l(r,{type:"text",onClick:X},{default:o(()=>[l(v,null,{default:o(()=>[l(P(ge))]),_:1})]),_:1})]),_:1}),l(p,{span:12,class:"page-title text-center"},{default:o(()=>[s("h1",null,f(T.value),1)]),_:1}),l(p,{span:6,class:"header-right"})]),_:1}),l(ie,{model:a,class:"user-form","label-position":"top"},{default:o(()=>[l(R,{class:"form-row"},{default:o(()=>[l(p,{span:8},{default:o(()=>[l(b,{label:"First Name"},{default:o(()=>[l(_,{modelValue:a.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>a.firstName=t),placeholder:"Enter First Name"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:8},{default:o(()=>[l(b,{label:"Last Name"},{default:o(()=>[l(_,{modelValue:a.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>a.lastName=t),placeholder:"Enter Last Name"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:8},{default:o(()=>[l(b,{label:"Employee ID"},{default:o(()=>[l(_,{modelValue:a.userId,"onUpdate:modelValue":e[2]||(e[2]=t=>a.userId=t),placeholder:"Enter User ID"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(R,{class:"form-row"},{default:o(()=>[l(p,{span:8},{default:o(()=>[l(b,{label:"Badge ID"},{default:o(()=>[l(_,{modelValue:a.badgeId,"onUpdate:modelValue":e[3]||(e[3]=t=>a.badgeId=t),placeholder:"Enter First Name"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:8},{default:o(()=>[l(b,{class:"pin-field"},{label:o(()=>[...e[21]||(e[21]=[s("span",null,"Pin #",-1),s("span",{class:"label-note"},"*4 digits minimum",-1)])]),default:o(()=>[l(_,{modelValue:a.pin,"onUpdate:modelValue":e[4]||(e[4]=t=>a.pin=t),placeholder:"Enter your pin",type:"text"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:8},{default:o(()=>[l(b,{label:"Role *"},{default:o(()=>[l(Y,{modelValue:a.role,"onUpdate:modelValue":e[5]||(e[5]=t=>a.role=t),placeholder:"Can we make the Role.",style:{width:"100%"}},{default:o(()=>[l(C,{label:"Admin",value:"Admin"}),l(C,{label:"Manager",value:"Manager"}),l(C,{label:"Supervisor",value:"Supervisor"}),l(C,{label:"Full Time",value:"Full Time"}),l(C,{label:"Temporary",value:"Temporary"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),s("div",ye,[e[23]||(e[23]=s("div",{class:"device-management-note"},[s("span",{class:"note-bold"},"Note:"),i(" Will Show list of all selected device types for the user. ")],-1)),e[24]||(e[24]=s("div",{class:"device-management-label"},"Device Management",-1)),l(H,{modelValue:a.deviceManagement,"onUpdate:modelValue":e[8]||(e[8]=t=>a.deviceManagement=t),class:"device-radio-group"},{default:o(()=>[(d(!0),c($,null,z(K.value,t=>(d(),c("div",{key:t.value,class:"radio-item-wrapper"},[l(h,{label:t.value,class:"device-radio"},{default:o(()=>[i(f(t.label),1)]),_:2},1032,["label"]),t.value==="assignedLocker"&&a.deviceManagement==="assignedLocker"?(d(),A(r,{key:0,type:"default",size:"small",onClick:e[6]||(e[6]=F=>L.value=!0),class:"inline-button"},{default:o(()=>[i(f(a.assignedLocker?`Selected: ${a.assignedLocker.name}`:"Select Locker"),1)]),_:1})):M("",!0),t.value==="groups"&&a.deviceManagement==="groups"?(d(),A(r,{key:1,type:"default",size:"small",onClick:e[7]||(e[7]=F=>w.value=!0),class:"inline-button"},{default:o(()=>[...e[22]||(e[22]=[i(" Select Group ",-1)])]),_:1})):M("",!0)]))),128))]),_:1},8,["modelValue"]),a.deviceManagement==="groups"?(d(),c("div",be,[k.value.length>0?(d(),c("div",Ce,[(d(!0),c($,null,z(k.value,t=>(d(),A(ue,{key:t.id,closable:"",onClose:F=>de(t.id),class:"group-tag"},{default:o(()=>[i(f(t.name),1)]),_:2},1032,["onClose"]))),128))])):(d(),c("div",Ve,"No groups selected"))])):M("",!0)]),s("div",Le,[e[27]||(e[27]=s("div",{class:"checkout-label"},"Multiple Device Check-Out *",-1)),s("div",we,[l(H,{modelValue:a.multipleDeviceCheckout,"onUpdate:modelValue":e[9]||(e[9]=t=>a.multipleDeviceCheckout=t),class:"radio-group-horizontal"},{default:o(()=>[l(h,{label:"no"},{default:o(()=>[...e[25]||(e[25]=[i("No",-1)])]),_:1}),l(h,{label:"yes"},{default:o(()=>[...e[26]||(e[26]=[i("Yes",-1)])]),_:1})]),_:1},8,["modelValue"]),a.multipleDeviceCheckout==="yes"?(d(),A(Y,{key:0,modelValue:a.deviceCount,"onUpdate:modelValue":e[10]||(e[10]=t=>a.deviceCount=t),placeholder:"Select Count",class:"device-count-selector"},{default:o(()=>[(d(),c($,null,z(8,t=>l(C,{key:t,label:t,value:t.toString()},null,8,["label","value"])),64))]),_:1},8,["modelValue"])):M("",!0)])]),s("div",Ne,[N.value?(d(),A(r,{key:0,size:"large",class:"delete-btn",onClick:e[11]||(e[11]=t=>V.value=!0)},{default:o(()=>[...e[28]||(e[28]=[i("Delete",-1)])]),_:1})):M("",!0),l(r,{type:"primary",size:"large",class:"save-btn",onClick:Z},{default:o(()=>[...e[29]||(e[29]=[i("Save",-1)])]),_:1})])]),_:1},8,["model"]),l(j,{modelValue:V.value,"onUpdate:modelValue":e[13]||(e[13]=t=>V.value=t),title:"Are you Sure?",width:"450px",center:!0},{footer:o(()=>[l(r,{onClick:e[12]||(e[12]=t=>V.value=!1)},{default:o(()=>[...e[32]||(e[32]=[i("Cancel",-1)])]),_:1}),l(r,{type:"danger",onClick:ee},{default:o(()=>[...e[33]||(e[33]=[i("Delete",-1)])]),_:1})]),default:o(()=>[s("div",Ue,[l(v,{class:"dialog-icon",style:{"font-size":"45px",color:"#ff4d4f","margin-bottom":"18px"}},{default:o(()=>[l(P(ke))]),_:1}),s("p",Se,[e[30]||(e[30]=s("strong",{style:{display:"block","font-size":"1.8rem","margin-bottom":"18px"}},"Are you Sure?",-1)),s("strong",xe,'Do you really want to delete this User "'+f(a.firstName)+" "+f(a.lastName)+'"?',1)]),e[31]||(e[31]=s("p",{class:"dialog-text",style:{"font-weight":"700",color:"#000 !important"}},"This process cannot be Undone.",-1))])]),_:1},8,["modelValue"]),l(j,{modelValue:L.value,"onUpdate:modelValue":e[17]||(e[17]=t=>L.value=t),width:"900px",class:"locker-dialog"},{header:o(()=>[s("div",De,[e[34]||(e[34]=s("h2",{class:"locker-dialog-title"},"Select Locker",-1)),l(_,{modelValue:U.value,"onUpdate:modelValue":e[14]||(e[14]=t=>U.value=t),placeholder:"Select",onInput:le,class:"locker-search-input"},{suffix:o(()=>[l(v,null,{default:o(()=>[l(P(J))]),_:1})]),_:1},8,["modelValue"])])]),footer:o(()=>[s("div",$e,[l(r,{size:"large",class:"cancel-btn-new",onClick:e[16]||(e[16]=t=>L.value=!1)},{default:o(()=>[...e[36]||(e[36]=[i("Cancel",-1)])]),_:1}),l(r,{type:"primary",size:"large",class:"confirm-btn-new",onClick:te},{default:o(()=>[...e[37]||(e[37]=[i("Confirm",-1)])]),_:1})])]),default:o(()=>[s("div",Ie,[e[35]||(e[35]=s("p",{class:"locker-prompt"},"Please select the locker",-1)),s("div",Ge,[(d(!0),c($,null,z(x.value,t=>(d(),c("div",{key:t.id,class:O(["locker-item-new",{selected:g.value===t.id.toString()}]),onClick:F=>W(t.id.toString())},f(t.name),11,Me))),128)),s("div",{class:O(["locker-item-new",{selected:g.value==="unlimited"}]),onClick:e[15]||(e[15]=t=>W("unlimited"))}," Unlimited ",2)])])]),_:1},8,["modelValue"]),l(j,{modelValue:w.value,"onUpdate:modelValue":e[20]||(e[20]=t=>w.value=t),width:"900px",class:"group-dialog"},{header:o(()=>[s("div",ze,[e[38]||(e[38]=s("h2",{class:"group-dialog-title"},"Select Groups",-1)),l(_,{modelValue:S.value,"onUpdate:modelValue":e[18]||(e[18]=t=>S.value=t),placeholder:"Select",onInput:oe,class:"group-search-input"},{suffix:o(()=>[l(v,null,{default:o(()=>[l(P(J))]),_:1})]),_:1},8,["modelValue"])])]),footer:o(()=>[s("div",Be,[l(r,{size:"large",class:"cancel-btn-new",onClick:e[19]||(e[19]=t=>w.value=!1)},{default:o(()=>[...e[40]||(e[40]=[i("Cancel",-1)])]),_:1}),l(r,{type:"primary",size:"large",class:"confirm-btn-new",onClick:ne},{default:o(()=>[...e[41]||(e[41]=[i("Confirm",-1)])]),_:1})])]),default:o(()=>[s("div",Ae,[e[39]||(e[39]=s("p",{class:"group-prompt"},"Please select one or more groups",-1)),s("div",Ee,[(d(!0),c($,null,z(D.value,t=>(d(),c("div",{key:t.id,class:O(["group-item-new",{selected:ae(t.id)}]),onClick:F=>se(t.id)},f(t.name),11,Te))),128))])])]),_:1},8,["modelValue"])])}}},Re=re(Fe,[["__scopeId","data-v-7dc6130b"]]);export{Re as default};

import{_ as F,v as R,r as i,g as x,a as g,c as w,b as A,e as t,d as a,w as o,u as V,B as $,k as z,f,F as W,p as j,A as c,t as L,z as H}from"./index-19TV4XvG.js";const J={class:"locker-container"},O={class:"header-bar"},X={class:"action-buttons"},Z={class:"locker-grid"},q={class:"card-content"},G={class:"info-section"},K={class:"value-row"},Q={class:"department-value"},ee={class:"devices-value"},se={class:"bays-value"},te={class:"button-row"},ae={class:"dialog-footer"},le={__name:"Location",setup(ne){const h=R(),v=i(!1),y=i(!1),b=i(-1),s=i({department:"",devicesAssigned:"",assignedBays:""}),E=()=>{h.back()},p=i(null),m=i(-1),r=i(null),d=i([{department:"California",devicesAssigned:"25",assignedBays:"1234 Silicon Valley Blvd, San Jose, CA 95110"},{department:"New York",devicesAssigned:"30",assignedBays:"789 Broadway Ave, New York, NY 10003"},{department:"Texas",devicesAssigned:"20",assignedBays:"456 Lone Star Dr, Austin, TX 78701"},{department:"Florida",devicesAssigned:"18",assignedBays:"321 Ocean Drive, Miami, FL 33139"},{department:"Illinois",devicesAssigned:"22",assignedBays:"890 Michigan Ave, Chicago, IL 60611"},{department:"Washington",devicesAssigned:"15",assignedBays:"567 Pike Street, Seattle, WA 98101"},{department:"Massachusetts",devicesAssigned:"12",assignedBays:"234 Beacon St, Boston, MA 02116"},{department:"Arizona",devicesAssigned:"16",assignedBays:"678 Desert View Rd, Phoenix, AZ 85001"}]),C=i("");x(()=>{const l=d.value.map(e=>e.department);return[...new Set(l)].sort()});const S=x(()=>C.value?d.value.filter(l=>l.department===C.value):d.value),D=l=>{l===-1||l>=d.value.length||H.confirm("Are you sure you want to delete this locker? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{p.value={...d.value[l]},m.value=l,d.value.splice(l,1);const e=c({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{p.value=null,m.value=-1,r.value&&(clearTimeout(r.value),r.value=null)}});setTimeout(()=>{const u=document.getElementById("restore-btn");u&&(u.onclick=()=>{T(),e.close()})},100),r.value=setTimeout(()=>{p.value=null,m.value=-1,r.value=null},3e4)}).catch(()=>{c.info("Delete cancelled")})},T=()=>{p.value&&m.value!==-1&&(d.value.splice(m.value,0,p.value),c.success("Locker restored successfully"),p.value=null,m.value=-1,r.value&&(clearTimeout(r.value),r.value=null))},N=()=>{y.value=!1,b.value=-1,s.value={department:"",devicesAssigned:"",assignedBays:""},v.value=!0},I=(l,e)=>{y.value=!0,b.value=e,s.value={department:l.department,devicesAssigned:l.devicesAssigned,assignedBays:l.assignedBays},v.value=!0},M=()=>{if(!s.value.department.trim()){c.warning("Please enter location name");return}if(!s.value.devicesAssigned.trim()){c.warning("Please enter locker number");return}if(!s.value.assignedBays.trim()){c.warning("Please enter detailed address");return}y.value?(d.value[b.value]={department:s.value.department,devicesAssigned:s.value.devicesAssigned,assignedBays:s.value.assignedBays},c.success("Location updated successfully")):(d.value.push({department:s.value.department,devicesAssigned:s.value.devicesAssigned,assignedBays:s.value.assignedBays}),c.success("Location added successfully")),v.value=!1};return(l,e)=>{const u=g("el-button"),_=g("el-input"),B=g("el-form-item"),Y=g("el-form"),P=g("el-dialog");return A(),w("div",J,[t("div",O,[a(V(z),{onClick:E,class:"back-arrow"},{default:o(()=>[a(V($))]),_:1}),e[6]||(e[6]=t("h2",null,"Location",-1)),t("div",X,[a(u,{type:"",style:{"background-color":"#0C306C",color:"#fff","font-weight":"600"},onClick:N},{default:o(()=>[...e[5]||(e[5]=[f(" Add Location ",-1)])]),_:1})])]),t("div",Z,[(A(!0),w(W,null,j(S.value,(n,k)=>(A(),w("div",{key:k,class:"locker-card"},[t("div",q,[t("div",G,[e[9]||(e[9]=t("div",{class:"label-row"},[t("span",{class:"label"},"Location"),t("span",{class:"label label-right"},"Locker Num")],-1)),t("div",K,[t("span",Q,L(n.department),1),t("span",ee,L(n.devicesAssigned),1)]),e[10]||(e[10]=t("p",null,[t("span",{class:"label"},"Detail")],-1)),t("p",se,L(n.assignedBays),1),t("div",te,[a(u,{type:"",class:"action-btn edit-btn",onClick:U=>I(n,k)},{default:o(()=>[...e[7]||(e[7]=[f(" Edit ",-1)])]),_:1},8,["onClick"]),a(u,{onClick:U=>D(k),class:"action-btn delete-btn"},{default:o(()=>[...e[8]||(e[8]=[f(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))]),a(P,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=n=>v.value=n),title:y.value?"Edit Location":"Add Location",width:"565px",style:{"--you-dialog-width":"565px","font-weight":"700",color:"#000",gap:"28px","border-radius":"24px","padding-top":"52px","padding-right":"24px","padding-bottom":"52px","padding-left":"24px"},"custom-class":"custom-dialog","close-on-click-modal":!1},{footer:o(()=>[t("span",ae,[a(u,{type:"default",class:"cancel-btn",onClick:e[3]||(e[3]=n=>v.value=!1)},{default:o(()=>[...e[11]||(e[11]=[f("Cancel",-1)])]),_:1}),a(u,{type:"primary",class:"save-btn",onClick:M},{default:o(()=>[...e[12]||(e[12]=[f("Save",-1)])]),_:1})])]),default:o(()=>[a(Y,{model:s.value,"label-position":"top",class:"location-form"},{default:o(()=>[a(B,{label:"Location*"},{default:o(()=>[a(_,{modelValue:s.value.department,"onUpdate:modelValue":e[0]||(e[0]=n=>s.value.department=n),placeholder:"Enter location (e.g., California, New York)"},null,8,["modelValue"])]),_:1}),a(B,{label:"Locker Num*"},{default:o(()=>[a(_,{modelValue:s.value.devicesAssigned,"onUpdate:modelValue":e[1]||(e[1]=n=>s.value.devicesAssigned=n),placeholder:"Enter locker number",type:"number"},null,8,["modelValue"])]),_:1}),a(B,{label:"Detail*"},{default:o(()=>[a(_,{modelValue:s.value.assignedBays,"onUpdate:modelValue":e[2]||(e[2]=n=>s.value.assignedBays=n),placeholder:"Enter detailed address (e.g., 123 Main St, City, State 12345)",type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},de=F(le,[["__scopeId","data-v-a44876a6"]]);export{de as default};

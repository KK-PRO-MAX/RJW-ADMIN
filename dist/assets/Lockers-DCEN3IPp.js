import{_ as V,v as h,r as f,g as C,a as y,c as p,b as A,e as s,d as o,w as i,f as a,F as D,p as L,x as Y,t as d,y as F,n as R,z as W,A as b}from"./index-19TV4XvG.js";const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFESURBVHgB1VPBVcMwDP2BBcIGGqEb1BtQJkg4wRE26AawAWaCPCYgTEC5cUs3aDtBK8Xqs+u0tdNb/3v/JZElWdJXCpxGyZwxp8wJk9QmWDOXzAWzZf7odxYMs2GumNsR/NAizlb8FgXJJe/MWi8m7caozTK7nIsmkeO3JsmF0Zh9fKc5e1Tw4+gwLnGMGr5QyVkV+iLjEcEeMBTLwAlN8K2LyH9wAreRv/g02oH49TO28BsSVvOLtLhScRXFlprzpcAQBCeUCWytVrwIfKZHfB6RWFfCodhzDDuL/S0Ou6Ez/n3CwRZkgILC5uHBbeS4ZG6Yr8z/wC5dPDGf4f7uUv3Wei7PL7XZwJ6FcI1jcWep4CJxXmryfZWf+n4PP+s7jKw4hsVxsWW9G1wTCG5cozbsBvmo4cZEyBD3EhBc9cmfKcQOrCty3Gv5abYAAAAASUVORK5CYII=",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgBnVQ9UsJAFN4EhrFisLSLJ1AvgLG0Ek9gPAHa8idhBup4AkOnFXACAlRWxBMQOss4NA7Dj9/LvDBLTAB9M8vuY9/7vve3UUREarVaUVXVQb1ed7H01Wp1pijKOXYNu0Y26/Xaw+ZDd2D7ATtHJIgiK9Vq1YDTC6sGgE6hP4n94mHZIGuDzEskwCVF2scxJ5EcU+TYXSyfFoA03NG6xJ0uQfhYVqPRMLcIAKwBuINjF869KAkc2iJB4JtbLpcFzlQLMwLOFWWjcNQdvvQXi8VVJpMRfyEJBSV+YCLy84B1q6CpEwbfsLKx3I+AhBqKEhUR8RfOYx4GL5KRxsEFAav46cGJpuFCNk6lUlTze8nXms/nlNkUtkXoNs4TBNKnaZMIgkARXBf3bUXE1/QFBgVSQTKVMglKCHKq+Q3089APdvZsNnu0LMuX8dSY9MYMLmh64NSVMsml0+k+AuiiJxeI9BT/tdnWyGazY8KQMdOyAkeDH5OH832z2XT4ykYpBGcSkJRKJeqXC90ol8s2sqI7jTAo1tgMYGRje6YaSuBB2fgNbGUCkqBEZEs+5MsYG/nVg6hUKpUCnIPIRUJPWq2Wm+Sv7gKnyAHeYXD69lAJ3KRM4iS1i8BxnG9d1+khviP1a9M030aj0edwOHTz+fyUh+EIQZwMBoPXOIy9JdolVD4Q34HI5Ib/nyAcYUGvU3rx+0QVBwqPH/UiHMWD5GACHj+PVnQUd8kPKHJIo9vmQBUAAAAASUVORK5CYII=",K={class:"locker-container"},M={class:"header-bar"},T={class:"action-buttons"},X={class:"filter-section"},x={class:"locker-grid"},G={class:"card-content"},Q={class:"card-header"},J={class:"name-wrapper"},N={class:"name"},O={class:"wifi-icon-container"},z={key:0,src:H,alt:"wifi",class:"wifi-icon"},P={key:1,src:S,alt:"wifi",class:"wifi-icon"},Z={class:"bottom-icons"},j={class:"info-section"},q={class:"info-row fully-charged-row"},$={class:"info-row damaged-row"},ee={__name:"Lockers",setup(se){h();const u=f(null),v=f(-1),n=f(null),c=f([{name:"A1",sn:"60394AFA",location:"HW-001",devicesInUse:"5",availableDevices:"24",fullyChargedDevices:"18",damagedDevices:"3",online:!0,type:"type1",category:"A1"},{name:"A2",sn:"60394AFA",location:"HW-002",devicesInUse:"2",availableDevices:"27",fullyChargedDevices:"20",damagedDevices:"1",online:!1,type:"type2",category:"A2"},{name:"A3",sn:"60394AFA",location:"HW-003",devicesInUse:"8",availableDevices:"21",fullyChargedDevices:"15",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",devicesInUse:"6",availableDevices:"23",fullyChargedDevices:"17",damagedDevices:"1",online:!1,type:"type1",category:"A4"},{name:"A2",sn:"60394AFA",location:"HW-002",devicesInUse:"2",availableDevices:"27",fullyChargedDevices:"20",damagedDevices:"1",online:!0,type:"type2",category:"A2"},{name:"A1",sn:"60394AFA",location:"HW-001",devicesInUse:"5",availableDevices:"24",fullyChargedDevices:"18",damagedDevices:"3",online:!1,type:"type1",category:"A1"},{name:"A3",sn:"60394AFA",location:"HW-003",devicesInUse:"8",availableDevices:"21",fullyChargedDevices:"15",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",devicesInUse:"6",availableDevices:"23",fullyChargedDevices:"17",damagedDevices:"1",online:!1,type:"type1",category:"A4"}]),g=f(""),U=C(()=>{const t=c.value.map(e=>e.location);return[...new Set(t)].sort()}),_=C(()=>g.value?c.value.filter(t=>t.location===g.value):c.value),I=t=>{t===-1||t>=c.value.length||W.confirm("Are you sure you want to delete this locker? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{u.value={...c.value[t]},v.value=t,c.value.splice(t,1);const e=b({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{u.value=null,v.value=-1,n.value&&(clearTimeout(n.value),n.value=null)}});setTimeout(()=>{const r=document.getElementById("restore-btn");r&&(r.onclick=()=>{k(),e.close()})},100),n.value=setTimeout(()=>{u.value=null,v.value=-1,n.value=null},3e4)}).catch(()=>{b.info("Delete cancelled")})},k=()=>{u.value&&v.value!==-1&&(c.value.splice(v.value,0,u.value),b.success("Locker restored successfully"),u.value=null,v.value=-1,n.value&&(clearTimeout(n.value),n.value=null))};return(t,e)=>{const r=y("el-button"),m=y("router-link"),w=y("el-option"),E=y("el-select");return A(),p("div",K,[s("div",M,[e[3]||(e[3]=s("h2",null,"Lockers",-1)),s("div",T,[o(m,{to:"/Location"},{default:i(()=>[o(r,{type:"",class:"location-btn"},{default:i(()=>[...e[1]||(e[1]=[a("Location",-1)])]),_:1})]),_:1}),o(m,{to:"/Lockers_all_edit"},{default:i(()=>[o(r,{type:"",style:{"background-color":"#0C306C",color:"#fff","font-weight":"600"}},{default:i(()=>[...e[2]||(e[2]=[a("Add Locker",-1)])]),_:1})]),_:1})])]),s("div",X,[o(E,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l),placeholder:"All Locations",clearable:"",style:{width:"250px"}},{default:i(()=>[o(w,{label:"All Locations",value:""}),(A(!0),p(D,null,L(U.value,l=>(A(),Y(w,{key:l,label:`Location: ${l}`,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",x,[(A(!0),p(D,null,L(_.value,(l,B)=>(A(),p("div",{key:B,class:"locker-card"},[s("div",G,[s("div",Q,[s("div",J,[e[4]||(e[4]=s("span",{class:"label"},"Name : ",-1)),s("span",N,d(l.name),1)]),s("div",O,[l.online?(A(),p("img",z)):(A(),p("img",P))]),s("div",Z,[e[5]||(e[5]=s("i",{class:"el-icon-bell",style:{color:"#FF0400"}},null,-1)),s("i",{class:R(l.online?"el-icon-wifi":"el-icon-wifi-off"),style:F(l.online?"color: #2c3e50;":"color: #ccc;")},null,6)])]),s("div",j,[s("p",null,[e[6]||(e[6]=s("span",{class:"label"},"SN:",-1)),a(" "+d(l.sn),1)]),s("p",null,[e[7]||(e[7]=s("span",{class:"label"},"Location:",-1)),a(" "+d(l.location),1)]),s("p",null,[e[8]||(e[8]=s("span",{class:"label"},"Devices In Use:",-1)),a(" "+d(l.devicesInUse),1)]),s("p",null,[e[9]||(e[9]=s("span",{class:"label"},"Available Devices:",-1)),a(" "+d(l.availableDevices),1)]),s("div",q,[s("p",null,[e[10]||(e[10]=s("span",{class:"label"},"Fully Charged Devices:",-1)),a(" "+d(l.fullyChargedDevices),1)]),o(m,{to:{path:"/Lockers_all_edit",query:{isEdit:!0,...l,index:B}},class:"btn-link"},{default:i(()=>[o(r,{type:"",class:"action-btn edit-btn"},{default:i(()=>[...e[11]||(e[11]=[a(" Edit ",-1)])]),_:1})]),_:1},8,["to"])]),s("div",$,[s("p",null,[e[12]||(e[12]=s("span",{class:"label"},"Damaged Devices:",-1)),a(" "+d(l.damagedDevices),1)]),o(r,{onClick:le=>I(B),class:"action-btn delete-btn"},{default:i(()=>[...e[13]||(e[13]=[a(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))])])}}},ae=V(ee,[["__scopeId","data-v-7c2696d6"]]);export{ae as default};

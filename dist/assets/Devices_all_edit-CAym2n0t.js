import{_ as R,m as O,I as Z,r as d,J as G,a as q,o as I,b as o,d as a,w as t,u as l,z as J,h as T,t as E,K as P,L as _,M as k,i as A,e as K,E as f,g as n,f as i,q as Q,N as j,O as H,P as W,Q as U,F as X,k as Y,n as h,v as B}from"./index-D0Jc_NLw.js";import{u as ee}from"./deviceStore-Cx5eCT2x.js";const le={class:"add-device-page"},ae={class:"page-header"},te={class:"page-title"},se={class:"footer-buttons"},oe={class:"dialog-content text-center"},de={class:"dialog-text"},ue={style:{"font-weight":"700",color:"#000 !important"}},ne={class:"bay-buttons-grid"},ie={__name:"Devices_all_edit",setup(re){const w=O(),u=Z(),N=ee(),z=()=>w.back(),p=d(!1),x=d("Add New Device"),V=d(""),r=d(""),y=d(""),m=d(""),C=d(""),b=d(!1),v=d(""),g=d(""),D=d(!1);G(()=>{u.query.mode==="edit"?(p.value=!0,r.value=u.query.deviceName||"",y.value=u.query.deviceId||"",V.value=u.query.deviceId||"",C.value=u.query.code||"",m.value=u.query.deviceType||"",g.value=u.query.assignedBay||"",x.value=`Edit ${u.query.deviceName}`):(p.value=!1,x.value="Add New Device")});const S=c=>c.toString().padStart(2,"0"),$=()=>{v.value="",b.value=!1},F=()=>{v.value&&(g.value=`Bay ${v.value}`),b.value=!1,v.value=""},L=()=>{if(!r.value||!y.value||!m.value||!g.value){B.warning("Please fill in all required fields");return}const c={deviceName:r.value,deviceId:y.value,code:C.value,assignedBay:g.value,deviceType:m.value,deviceGroups:"",status:"Available",category:"A1"};p.value?(N.updateDevice(V.value,c),B.success("Device updated successfully")):(N.addDevice(c),B.success("Device added successfully")),w.push("/devices")},M=()=>{p.value&&V.value&&(N.deleteDevice(V.value),B.success("Device deleted successfully!"),w.push("/devices")),D.value=!1};return(c,e)=>(I(),q("div",le,[o("div",ae,[a(l(T),{onClick:z,class:"back-arrow"},{default:t(()=>[a(l(J))]),_:1}),o("h1",te,E(x.value),1)]),a(l(H),{class:"device-form","label-position":"top"},{default:t(()=>[a(l(P),{gutter:24},{default:t(()=>[a(l(_),{span:8},{default:t(()=>[a(l(k),{label:"Device Name *"},{default:t(()=>[a(l(A),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),placeholder:"Enter Device Name"},null,8,["modelValue"])]),_:1})]),_:1}),a(l(_),{span:8},{default:t(()=>[a(l(k),{label:"Device ID *"},{default:t(()=>[a(l(A),{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=s=>y.value=s),placeholder:"Enter Device ID"},null,8,["modelValue"])]),_:1})]),_:1}),a(l(_),{span:8},{default:t(()=>[a(l(k),{label:"Device Type *"},{default:t(()=>[a(l(K),{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),placeholder:"Select Type"},{default:t(()=>[a(l(f),{label:"iPhone",value:"iPhone"}),a(l(f),{label:"iPad",value:"iPad"}),a(l(f),{label:"Android Phone",value:"Android Phone"}),a(l(f),{label:"Android Tablet",value:"Android Tablet"}),a(l(f),{label:"Zebra",value:"Zebra"}),a(l(f),{label:"Laptop",value:"Laptop"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(l(P),{gutter:24},{default:t(()=>[a(l(_),{span:8},{default:t(()=>[a(l(k),{label:"Assign a Bay*"},{default:t(()=>[e[9]||(e[9]=o("div",{class:"form-note"},"Note: Each device needs an assigned bay",-1)),a(l(n),{class:"select-bay-btn",type:"text",onClick:e[3]||(e[3]=s=>b.value=!0)},{default:t(()=>[i(E(g.value||"Select Bay"),1)]),_:1})]),_:1})]),_:1}),a(l(_),{span:8},{default:t(()=>[a(l(k),{label:"Barcode or NFC*"},{default:t(()=>[e[10]||(e[10]=o("div",{class:"form-note"},"Note: Enter or scan the barcode",-1)),a(l(A),{modelValue:C.value,"onUpdate:modelValue":e[4]||(e[4]=s=>C.value=s),placeholder:"Enter Code"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o("div",se,[p.value?(I(),Q(l(n),{key:0,size:"large",class:"delete-btn",onClick:e[5]||(e[5]=s=>D.value=!0)},{default:t(()=>[...e[11]||(e[11]=[i("Delete",-1)])]),_:1})):j("",!0),a(l(n),{type:"primary",size:"large",class:"save-btn",onClick:L},{default:t(()=>[...e[12]||(e[12]=[i("Save",-1)])]),_:1})])]),_:1}),a(l(U),{modelValue:D.value,"onUpdate:modelValue":e[7]||(e[7]=s=>D.value=s),title:"Are you Sure?",width:"450px",center:!0},{footer:t(()=>[a(l(n),{onClick:e[6]||(e[6]=s=>D.value=!1)},{default:t(()=>[...e[15]||(e[15]=[i("Cancel",-1)])]),_:1}),a(l(n),{type:"danger",onClick:M},{default:t(()=>[...e[16]||(e[16]=[i("Delete",-1)])]),_:1})]),default:t(()=>[o("div",oe,[a(l(T),{class:"dialog-icon",style:{"font-size":"45px",color:"#ff4d4f","margin-bottom":"18px"}},{default:t(()=>[a(l(W))]),_:1}),o("p",de,[e[13]||(e[13]=o("strong",{style:{display:"block","font-size":"1.8rem","margin-bottom":"18px"}},"Are you Sure?",-1)),o("strong",ue,'Do you really want to delete this Device "'+E(r.value)+'"?',1)]),e[14]||(e[14]=o("p",{class:"dialog-text",style:{"font-weight":"700",color:"#000 !important"}},"This process cannot be Undone.",-1))])]),_:1},8,["modelValue"]),a(l(U),{modelValue:b.value,"onUpdate:modelValue":e[8]||(e[8]=s=>b.value=s),title:"Select Bay",width:"800px","close-on-click-modal":!1},{footer:t(()=>[a(l(n),{onClick:$,class:"tan"},{default:t(()=>[...e[17]||(e[17]=[i("Cancel",-1)])]),_:1}),a(l(n),{type:"primary",style:{background:"#0f3460",color:"#fff"},onClick:F,class:"tan"},{default:t(()=>[...e[18]||(e[18]=[i(" Save ",-1)])]),_:1})]),default:t(()=>[e[19]||(e[19]=o("div",{class:"bay-dialog-note"}," Please select the bay you want the device to be assigned to ",-1)),o("div",ne,[(I(),q(X,null,Y(30,s=>a(l(n),{key:s,class:h(["bay-btn",{"bay-btn-selected":v.value===S(s)}]),onClick:ve=>v.value=S(s)},{default:t(()=>[i(E(S(s)),1)]),_:2},1032,["class","onClick"])),64))])]),_:1},8,["modelValue"])]))}},pe=R(ie,[["__scopeId","data-v-153ef5d3"]]);export{pe as default};

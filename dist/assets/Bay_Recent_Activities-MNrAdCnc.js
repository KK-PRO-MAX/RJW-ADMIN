import{_ as P,v as $,C as A,r as b,c as k,b as B,e as t,d as a,u as s,j as c,t as E,V,w as o,f as i,F as x,p as D,E as U,h as L,W as g,D as v,G as S}from"./index-19TV4XvG.js";const T={class:"bay-page"},q={class:"page-header"},M={class:"page-title"},j={class:"content-container"},O={class:"activate-section"},F={class:"switch-save-group"},H={class:"deactivation-group"},I={class:"action-section"},W={class:"action-btns"},G={class:"history-section"},z={class:"history-header"},J={class:"export-links"},K={__name:"Bay_Recent_Activities",setup(Q){const p=$(),n=A(),m=b(null),f=b(!1),_=b(""),C=[{label:"Not Needed",value:"not_needed"},{label:"Device Malfunction",value:"device_malfunction"},{label:"Bay Malfunction",value:"bay_malfunction"}],h=[{time:"11/21/2023 - 12:56 PM",status:"Checked-out",device:"iPhone002",bay:`Bay ${n.query.bayNumber||2}`},{time:"10/15/2023 - 2:56 PM",status:"Checked-out",device:"iPhone002",bay:`Bay ${n.query.bayNumber||2}`},{time:"10/13/2023 - 11:30 AM",status:"Checked-out",device:"iPhone002",bay:`Bay ${n.query.bayNumber||2}`},{time:"09/21/2023 - 5:19 PM",status:"Checked-out",device:"iPhone002",bay:`Bay ${n.query.bayNumber||2}`},{time:"09/12/2023 - 7:00 PM",status:"Checked-out",device:"iPhone002",bay:`Bay ${n.query.bayNumber||2}`}],R=()=>{window.history.length>1?p.back():p.push("/Bay_Management")},w=()=>{const r=m.value.$el;html2canvas(r,{scale:2,useCORS:!0,logging:!1}).then(e=>{const l=new jsPDF("l","mm","a4"),u=280,d=e.height*u/e.width;l.addImage(e.toDataURL("image/png"),"PNG",10,10,u,d),l.save(`Bay_${n.query.bayNumber||"Unknown"}_Activity_History.pdf`)})},N=()=>{const e=[["Time","Status","Device","Bay"].join(","),...h.map(y=>`${y.time},${y.status},${y.device},${y.bay}`)].join(`
`),l=new Blob([e],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(l),d=document.createElement("a");d.href=u,d.download=`Bay_${n.query.bayNumber||"Unknown"}_Activity_History.csv`,d.click(),URL.revokeObjectURL(u)};return(r,e)=>(B(),k("div",T,[t("div",q,[a(s(c),{type:"default",icon:"ArrowLeft",class:"back-btn",onClick:R}),t("h2",M," Bay "+E(r.$route.query.bayNumber||"Unknown")+" - Recent Activities ",1)]),t("div",j,[t("div",O,[t("div",F,[e[3]||(e[3]=t("span",null,"Bay Activate",-1)),a(s(V),{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l)},null,8,["modelValue"]),a(s(c),{class:"save-btn"},{default:o(()=>[...e[2]||(e[2]=[i("Save",-1)])]),_:1})]),t("div",H,[e[4]||(e[4]=t("span",null,"Deactivation reason",-1)),a(s(L),{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=l=>_.value=l),placeholder:"Select Reason"},{default:o(()=>[(B(),k(x,null,D(C,l=>a(s(U),{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),t("div",I,[e[8]||(e[8]=t("p",null,"What do you want to do?",-1)),t("div",W,[a(s(c),{class:"open-bay-btn"},{default:o(()=>[...e[5]||(e[5]=[i("Open Bay",-1)])]),_:1}),a(s(c),{class:"check-btn"},{default:o(()=>[...e[6]||(e[6]=[i("Check-Out",-1)])]),_:1}),a(s(c),{class:"check-btn"},{default:o(()=>[...e[7]||(e[7]=[i("Check-In",-1)])]),_:1})])]),t("div",G,[t("div",z,[e[12]||(e[12]=t("h3",null,"Recent Bay Activity History",-1)),t("div",J,[a(s(g),{onClick:w},{default:o(()=>[...e[9]||(e[9]=[i("Export as PDF",-1)])]),_:1}),e[11]||(e[11]=t("span",null,"|",-1)),a(s(g),{onClick:N},{default:o(()=>[...e[10]||(e[10]=[i("Export as CSV",-1)])]),_:1})])]),a(s(S),{ref_key:"activityTableRef",ref:m,data:h,style:{width:"100%"}},{default:o(()=>[a(s(v),{prop:"time",label:"Time",align:"left"}),a(s(v),{prop:"status",label:"Status",align:"left"}),a(s(v),{prop:"device",label:"Device",align:"left"}),a(s(v),{prop:"bay",label:"Bay",align:"left"})]),_:1},512)])])]))}},Y=P(K,[["__scopeId","data-v-14025c2e"]]);export{Y as default};

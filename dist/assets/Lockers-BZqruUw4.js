import{_ as G,m as Q,r,c as D,p as A,a as k,o as m,b as a,d as o,w as n,f as i,F as W,k as R,q as P,v as d,t as y,x as O,n as h,y as z}from"./index-D0Jc_NLw.js";import{u as Z}from"./filterStore-BpegOwCG.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFESURBVHgB1VPBVcMwDP2BBcIGGqEb1BtQJkg4wRE26AawAWaCPCYgTEC5cUs3aDtBK8Xqs+u0tdNb/3v/JZElWdJXCpxGyZwxp8wJk9QmWDOXzAWzZf7odxYMs2GumNsR/NAizlb8FgXJJe/MWi8m7caozTK7nIsmkeO3JsmF0Zh9fKc5e1Tw4+gwLnGMGr5QyVkV+iLjEcEeMBTLwAlN8K2LyH9wAreRv/g02oH49TO28BsSVvOLtLhScRXFlprzpcAQBCeUCWytVrwIfKZHfB6RWFfCodhzDDuL/S0Ou6Ez/n3CwRZkgILC5uHBbeS4ZG6Yr8z/wC5dPDGf4f7uUv3Wei7PL7XZwJ6FcI1jcWep4CJxXmryfZWf+n4PP+s7jKw4hsVxsWW9G1wTCG5cozbsBvmo4cZEyBD3EhBc9cmfKcQOrCty3Gv5abYAAAAASUVORK5CYII=",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgBnVQ9UsJAFN4EhrFisLSLJ1AvgLG0Ek9gPAHa8idhBup4AkOnFXACAlRWxBMQOss4NA7Dj9/LvDBLTAB9M8vuY9/7vve3UUREarVaUVXVQb1ed7H01Wp1pijKOXYNu0Y26/Xaw+ZDd2D7ATtHJIgiK9Vq1YDTC6sGgE6hP4n94mHZIGuDzEskwCVF2scxJ5EcU+TYXSyfFoA03NG6xJ0uQfhYVqPRMLcIAKwBuINjF869KAkc2iJB4JtbLpcFzlQLMwLOFWWjcNQdvvQXi8VVJpMRfyEJBSV+YCLy84B1q6CpEwbfsLKx3I+AhBqKEhUR8RfOYx4GL5KRxsEFAav46cGJpuFCNk6lUlTze8nXms/nlNkUtkXoNs4TBNKnaZMIgkARXBf3bUXE1/QFBgVSQTKVMglKCHKq+Q3089APdvZsNnu0LMuX8dSY9MYMLmh64NSVMsml0+k+AuiiJxeI9BT/tdnWyGazY8KQMdOyAkeDH5OH832z2XT4ykYpBGcSkJRKJeqXC90ol8s2sqI7jTAo1tgMYGRje6YaSuBB2fgNbGUCkqBEZEs+5MsYG/nVg6hUKpUCnIPIRUJPWq2Wm+Sv7gKnyAHeYXD69lAJ3KRM4iS1i8BxnG9d1+khviP1a9M030aj0edwOHTz+fyUh+EIQZwMBoPXOIy9JdolVD4Q34HI5Ib/nyAcYUGvU3rx+0QVBwqPH/UiHMWD5GACHj+PVnQUd8kPKHJIo9vmQBUAAAAASUVORK5CYII=",$={class:"locker-container"},ee={class:"header-bar"},le={class:"action-buttons"},ae={class:"filter-section"},oe={class:"locker-grid"},te={class:"card-content"},se={class:"card-header"},ne={class:"name-wrapper"},ie={class:"name"},ce={class:"wifi-icon-container"},ue={key:0,src:j,alt:"wifi",class:"wifi-icon"},re={key:1,src:q,alt:"wifi",class:"wifi-icon"},de={class:"bottom-icons"},ve={class:"info-section"},Ae={class:"info-row available-row"},pe={class:"info-row damaged-row"},me={class:"dialog-footer"},ye={__name:"Lockers",setup(fe){Q();const _=Z(),f=r(!1),w=r(!1),B=r(-1),t=r({name:"",sn:"",location:"",lockerType:""}),g=r(null),b=r(-1),v=r(null),u=r([{name:"A1",sn:"60394AFA",location:"HW-001",lockerType:"RJW-32",devicesInUse:"5",availableDevices:"24",damagedDevices:"3",online:!0,type:"type1",category:"A1"},{name:"A2",sn:"60394AFA",location:"HW-002",lockerType:"RJW-33",devicesInUse:"2",availableDevices:"27",damagedDevices:"1",online:!1,type:"type2",category:"A2"},{name:"A3",sn:"60394AFA",location:"HW-003",lockerType:"RJW-32",devicesInUse:"8",availableDevices:"21",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",lockerType:"RJW-34",devicesInUse:"6",availableDevices:"23",damagedDevices:"1",online:!1,type:"type1",category:"A4"},{name:"A2",sn:"60394AFA",location:"HW-002",lockerType:"RJW-33",devicesInUse:"2",availableDevices:"27",damagedDevices:"1",online:!0,type:"type2",category:"A2"},{name:"A1",sn:"60394AFA",location:"HW-001",lockerType:"RJW-32",devicesInUse:"5",availableDevices:"24",damagedDevices:"3",online:!1,type:"type1",category:"A1"},{name:"A3",sn:"60394AFA",location:"HW-003",lockerType:"RJW-32",devicesInUse:"8",availableDevices:"21",damagedDevices:"2",online:!0,type:"type3",category:"A3"},{name:"A4",sn:"60394AFA",location:"HW-004",lockerType:"RJW-34",devicesInUse:"6",availableDevices:"23",damagedDevices:"1",online:!1,type:"type1",category:"A4"}]),C=r(""),L=D({get:()=>_.selectedCategory,set:s=>_.setCategory(s)}),x=D(()=>{const s=u.value.map(e=>e.location);return[...new Set(s)].sort()}),J=D(()=>{let s=u.value;return L.value&&(s=s.filter(e=>e.category===L.value)),C.value&&(s=s.filter(e=>e.location===C.value)),s}),S=s=>{s===-1||s>=u.value.length||z.confirm("Are you sure you want to delete this locker? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{g.value={...u.value[s]},b.value=s,u.value.splice(s,1);const e=d({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{g.value=null,b.value=-1,v.value&&(clearTimeout(v.value),v.value=null)}});setTimeout(()=>{const c=document.getElementById("restore-btn");c&&(c.onclick=()=>{F(),e.close()})},100),v.value=setTimeout(()=>{g.value=null,b.value=-1,v.value=null},3e4)}).catch(()=>{d.info("Delete cancelled")})},F=()=>{g.value&&b.value!==-1&&(u.value.splice(b.value,0,g.value),d.success("Locker restored successfully"),g.value=null,b.value=-1,v.value&&(clearTimeout(v.value),v.value=null))},Y=()=>{w.value=!1,B.value=-1,t.value={name:"",sn:"",location:"",lockerType:""},f.value=!0},H=(s,e)=>{w.value=!0,B.value=e,t.value={name:s.name,sn:s.sn,location:s.location,lockerType:s.lockerType},f.value=!0},K=()=>{if(!t.value.name.trim()){d.warning("Please enter locker name");return}if(!t.value.sn.trim()){d.warning("Please enter serial number");return}if(!t.value.location.trim()){d.warning("Please enter location");return}if(!t.value.lockerType.trim()){d.warning("Please enter locker type");return}w.value?(u.value[B.value]={...u.value[B.value],name:t.value.name,sn:t.value.sn,location:t.value.location,lockerType:t.value.lockerType},d.success("Locker updated successfully")):(u.value.push({name:t.value.name,sn:t.value.sn,location:t.value.location,lockerType:t.value.lockerType,devicesInUse:"0",availableDevices:"0",damagedDevices:"0",online:!0,type:"type1",category:t.value.name}),d.success("Locker added successfully")),f.value=!1};return(s,e)=>{const c=A("el-button"),I=A("router-link"),p=A("el-option"),E=A("el-select"),V=A("el-input"),U=A("el-form-item"),M=A("el-form"),N=A("el-dialog");return m(),k("div",$,[a("div",ee,[e[11]||(e[11]=a("h2",null,"Lockers",-1)),a("div",le,[o(I,{to:"/Locker_Type"},{default:n(()=>[o(c,{type:"",class:"locker-type-btn"},{default:n(()=>[...e[8]||(e[8]=[i("Locker Type",-1)])]),_:1})]),_:1}),o(I,{to:"/Location"},{default:n(()=>[o(c,{type:"",class:"location-btn"},{default:n(()=>[...e[9]||(e[9]=[i("Location",-1)])]),_:1})]),_:1}),o(c,{type:"",style:{"background-color":"#0C306C",color:"#fff","font-weight":"600"},onClick:Y},{default:n(()=>[...e[10]||(e[10]=[i(" Add Locker ",-1)])]),_:1})])]),a("div",ae,[o(E,{modelValue:L.value,"onUpdate:modelValue":e[0]||(e[0]=l=>L.value=l),placeholder:"All Categories",clearable:"",style:{width:"250px","margin-right":"10px"}},{default:n(()=>[o(p,{label:"All Categories",value:""}),o(p,{label:"A1",value:"A1"}),o(p,{label:"A2",value:"A2"}),o(p,{label:"A3",value:"A3"}),o(p,{label:"A4",value:"A4"})]),_:1},8,["modelValue"]),o(E,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=l=>C.value=l),placeholder:"All Locations",clearable:"",style:{width:"250px"}},{default:n(()=>[o(p,{label:"All Locations",value:""}),(m(!0),k(W,null,R(x.value,l=>(m(),P(p,{key:l,label:`Location: ${l}`,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a("div",oe,[(m(!0),k(W,null,R(J.value,(l,T)=>(m(),k("div",{key:T,class:"locker-card"},[a("div",te,[a("div",se,[a("div",ne,[e[12]||(e[12]=a("span",{class:"label"},"Name : ",-1)),a("span",ie,y(l.name),1)]),a("div",ce,[l.online?(m(),k("img",ue)):(m(),k("img",re))]),a("div",de,[e[13]||(e[13]=a("i",{class:"el-icon-bell",style:{color:"#FF0400"}},null,-1)),a("i",{class:h(l.online?"el-icon-wifi":"el-icon-wifi-off"),style:O(l.online?"color: #2c3e50;":"color: #ccc;")},null,6)])]),a("div",ve,[a("p",null,[e[14]||(e[14]=a("span",{class:"label"},"SN:",-1)),i(" "+y(l.sn),1)]),a("p",null,[e[15]||(e[15]=a("span",{class:"label"},"Location:",-1)),i(" "+y(l.location),1)]),a("p",null,[e[16]||(e[16]=a("span",{class:"label"},"Locker Type:",-1)),i(" "+y(l.lockerType),1)]),a("p",null,[e[17]||(e[17]=a("span",{class:"label"},"Devices In Use:",-1)),i(" "+y(l.devicesInUse),1)]),a("div",Ae,[a("p",null,[e[18]||(e[18]=a("span",{class:"label"},"Available Devices:",-1)),i(" "+y(l.availableDevices),1)]),o(c,{type:"",class:"action-btn edit-btn",onClick:X=>H(l,T)},{default:n(()=>[...e[19]||(e[19]=[i(" Edit ",-1)])]),_:1},8,["onClick"])]),a("div",pe,[a("p",null,[e[20]||(e[20]=a("span",{class:"label"},"Damaged Devices:",-1)),i(" "+y(l.damagedDevices),1)]),o(c,{class:"action-btn delete-btn",onClick:X=>S(T)},{default:n(()=>[...e[21]||(e[21]=[i(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))]),o(N,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=l=>f.value=l),title:w.value?"Edit Locker":"Add Locker",width:"565px",style:{"--you-dialog-width":"565px","font-weight":"700",color:"#000",gap:"28px","border-radius":"24px","padding-top":"52px","padding-right":"24px","padding-bottom":"52px","padding-left":"24px"},"custom-class":"custom-dialog","close-on-click-modal":!1},{footer:n(()=>[a("span",me,[o(c,{type:"default",class:"cancel-btn",onClick:e[6]||(e[6]=l=>f.value=!1)},{default:n(()=>[...e[22]||(e[22]=[i("Cancel",-1)])]),_:1}),o(c,{type:"primary",class:"save-btn",onClick:K},{default:n(()=>[...e[23]||(e[23]=[i("Save",-1)])]),_:1})])]),default:n(()=>[o(M,{model:t.value,"label-position":"top",class:"locker-form"},{default:n(()=>[o(U,{label:"Name*"},{default:n(()=>[o(V,{modelValue:t.value.name,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.name=l),placeholder:"Enter locker name (e.g., A1, A2)"},null,8,["modelValue"])]),_:1}),o(U,{label:"SN*"},{default:n(()=>[o(V,{modelValue:t.value.sn,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.sn=l),placeholder:"Enter serial number (e.g., 60394AFA)"},null,8,["modelValue"])]),_:1}),o(U,{label:"Location*"},{default:n(()=>[o(V,{modelValue:t.value.location,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.location=l),placeholder:"Enter location (e.g., HW-001)"},null,8,["modelValue"])]),_:1}),o(U,{label:"Locker Type*"},{default:n(()=>[o(V,{modelValue:t.value.lockerType,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.lockerType=l),placeholder:"Enter locker type (e.g., RJW-32)"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ke=G(ye,[["__scopeId","data-v-cf61d6a2"]]);export{ke as default};

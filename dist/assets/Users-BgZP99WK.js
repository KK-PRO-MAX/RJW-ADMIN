import{_ as G,r as h,g as U,c as N,b as V,e as v,d as a,t as x,u as s,j,w as d,f as p,E as y,C as c,D as O,F as M}from"./index-BwbcA2R5.js";const B={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"16px"}},T={style:{"font-size":"18px","font-weight":"700"}},F={style:{display:"flex",gap:"8px","align-items":"center"}},J={__name:"Users",setup(L){const f=h([{name:"John Doe",assignedDevice:"iPhone#25",employeeId:"1654656",role:"Manager",deviceGroups:"Day Shift Managers, Staff, Office Staff",status:"Available"},{name:"John Doe",assignedDevice:"iPhone#25",employeeId:"1654656",role:"Manager",deviceGroups:"Day Shift Managers, Staff, Office Staff",status:"In Use"},{name:"Jane Smith",assignedDevice:"Android#18",employeeId:"7890123",role:"Staff",deviceGroups:"Staff, Night Shift",status:"Available"},{name:"Mike Ross",assignedDevice:"iPad#09",employeeId:"4567890",role:"Admin",deviceGroups:"Admin, Office Staff",status:"Damaged"},{name:"Alice Brown",assignedDevice:"MacBook#05",employeeId:"2345678",role:"Supervisor",deviceGroups:"Supervisor, Day Shift",status:"In Use"},{name:"Bob Wilson",assignedDevice:"Android#20",employeeId:"3456789",role:"Staff",deviceGroups:"Staff, Day Shift",status:"Available"},{name:"Charlie Davis",assignedDevice:"iPad#10",employeeId:"5678901",role:"Admin",deviceGroups:"Admin, IT Staff",status:"In Use"},{name:"Eve Miller",assignedDevice:"iPhone#26",employeeId:"6789012",role:"Manager",deviceGroups:"Night Shift Managers, Staff",status:"Damaged"},{name:"Frank Lee",assignedDevice:"Tablet#15",employeeId:"7890124",role:"Staff",deviceGroups:"Staff, Weekend Shift",status:"Available"}]),m=h(""),g=U(()=>{if(!m.value)return f.value;const n=m.value.toLowerCase();return f.value.filter(e=>Object.values(e).some(t=>t.toString().toLowerCase().includes(n)))}),S=h(null),A=()=>{S.value.click()},C=n=>{const e=n.target.files[0];if(!e)return;const t=new FileReader;e.name.endsWith(".csv")?(t.onload=i=>{const o=i.target.result,l=_(o);l&&(f.value=l,n.target.value="")},t.readAsText(e)):e.name.endsWith(".json")?(t.onload=i=>{try{const o=JSON.parse(i.target.result);Array.isArray(o)?(f.value=o,n.target.value=""):alert("Invalid JSON format. Expected an array.")}catch(o){alert("Error parsing JSON file: "+o.message)}},t.readAsText(e)):alert("Unsupported file format. Please upload CSV or JSON.")},_=n=>{try{const e=n.split(`
`).filter(r=>r.trim());if(e.length<2)return alert("CSV file is empty or has no data."),null;const t=e[0].split(",").map(r=>r.trim()),i=["name","assignedDevice","employeeId","role","deviceGroups","status"],o=i.filter(r=>!t.some(u=>u.toLowerCase()===r));if(o.length>0)return alert(`CSV file is missing required columns: ${o.join(", ")}`),null;const l=[];for(let r=1;r<e.length;r++){const u=e[r].split(","),b={};t.forEach((E,k)=>{var I;const D=E.toLowerCase();i.includes(D)&&(b[D]=((I=u[k])==null?void 0:I.trim())||"")}),l.push(b)}return l}catch(e){return alert("Error parsing CSV file: "+e.message),null}},w=()=>{const n=g.value,e=["name","assignedDevice","employeeId","role","deviceGroups","status"],t=[e.join(","),...n.map(r=>e.map(u=>r[u]||"").join(","))].join(`
`),i=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(i),l=document.createElement("a");l.setAttribute("href",o),l.setAttribute("download","users_export.csv"),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(n,e)=>(V(),N(M,null,[v("div",B,[v("div",T,"Users ("+x(g.value.length)+")",1),v("div",F,[a(s(j),{placeholder:"Search",style:{width:"200px"},modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),clearable:""},null,8,["modelValue"]),a(s(y),{type:"default",onClick:A},{default:d(()=>[...e[1]||(e[1]=[p(" Import File ",-1)])]),_:1}),a(s(y),{type:"default",onClick:w},{default:d(()=>[...e[2]||(e[2]=[p(" Export File ",-1)])]),_:1}),a(s(y),{type:"primary"},{default:d(()=>[...e[3]||(e[3]=[p("Add New User",-1)])]),_:1}),v("input",{type:"file",ref_key:"fileInput",ref:S,style:{display:"none"},accept:".csv,.json",onChange:C},null,544)])]),a(s(O),{data:g.value,border:"",style:{width:"100%"}},{default:d(()=>[a(s(c),{prop:"name",label:"Name","header-cell-style":"color: #000!important;"}),a(s(c),{prop:"assignedDevice",label:"Assigned Device","header-cell-style":"color: #000;"}),a(s(c),{prop:"employeeId",label:"Employee ID","header-cell-style":"color: #000;"}),a(s(c),{prop:"role",label:"Role","header-cell-style":"color: #000;"}),a(s(c),{prop:"deviceGroups",label:"Device Groups","header-cell-style":"color: #000;"}),a(s(c),{prop:"status",label:"Status","header-cell-style":"color: #000;"},{default:d(t=>[p(x(t.row.status),1)]),_:1}),a(s(c),{label:"Operation","header-cell-style":"color: #000;"},{default:d(()=>[a(s(y),{type:"default",size:"small"},{default:d(()=>[...e[4]||(e[4]=[p("Edit",-1)])]),_:1})]),_:1})]),_:1},8,["data"])],64))}},R=G(J,[["__scopeId","data-v-94308363"]]);export{R as default};
